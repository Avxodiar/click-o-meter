# Тестовый проект Click-o-Meter

Тестовое задание: [Specification.md](https://github.com/Avxodiar/click-o-meter/blob/main/Specification.md)


### Комментарий по реализации
  Карта кликов отображается в Canvas под которым спозиционирован iframe c контентом отслеживаемого сайта. Плюсы этого метода - при наличии динамических элементов (например слайдер-карусель) можно легко понять группы кликов в местах на которых ничего нет лишь в определенный момент времени. Минус данного способа - при сохранении canvas`а будет сохранена только сама карта кликов без снимка сайта.

  Альтернативный вариант - предварительная загрузка в Canvas снимка сайта, выполненного каким-либо сервисом. Это позволит сохранять карту кликов в файл. Минус данного способа - анализировать страницы с динамичным содержанием будет сложнее.

 При необходимости им воспользоваться 2ым вариантом имеется класс-заготовка по созданию снимков App\Support\Screen



## Установка

### Склонируйте репозиторий
```
git clone git@github.com:Avxodiar/click-o-meter.git
```

### Установите необходимые зависимости
```
composer install
```

### Настройте приложение
 - Cкопируйте файл ```.env.example``` в ```.env```
   ```
     cp .env.example .env
     ```
 - Cгенерируйте ключ приложения Laravel
   ```
     php artisan key:generate
   ```
 - Измените параметры в файле ```.env```
     - укажите адрес сайта в APP_URL
     - создайте базу данных, а затем укажите настройки её подключения в параметрах DB_*
     - укажите параметр MIX_CLICKER_URL заменив ```http://localhost``` на адрес указанный ранее в ```APP_URL```
     например:
     ```
     MIX_CLICKER_URL=http://test.loc/api/click
    ```
    - при необходимости измените параметр ```MIX_TIME_INTERVAL```, установив промежуток времени в мс,
    устанавливающий как часто скрипт будет данные по кликам на сервер

### Выполните миграцию БД
  ```
  php artisan migrate
  ```

### Подключите скрипт-оработчик на необходимые тестовые страницы
  ```
  <script src="js/click.min.js"></script>
  ```
  ###### Примечание: Данный пукт можно пропустить, т.к. для примера уже есть подключенные

### Установите необходимые пакеты
  ```
  npm install
  ```
  Примечание: Может потребоваться дополнительно установить некоторые пакеты,
  например, такие как ```cross-env```, если они у вас не установлены глобально

    npm i --save-dev cross-env

### Выполните сборку приложения 
  ```
  npm run dev
  ```
  По завершению сборки приложение готово к работе.

# Требования
- PHP >= 7.1.3
- BCMath PHP Extension
- Ctype PHP Extension
- JSON PHP Extension
- Mbstring PHP Extension
- OpenSSL PHP Extension
- PDO PHP Extension
- Tokenizer PHP Extension
- XML PHP Extension
